---
title: How is Portkey different from ERC-4337 wallets?
date: '2024-01-09'
---

* When implementing Account Abstraction (AA), different blockchain networks may employ varying methods. Ethereum utilises the ERC-4337 standard, while aelf invents the Virtual Address (VA) approach. The key distinctions between ERC-4337 on Ethereum and Virtual Address on aelf and in Portkey can be categorised into four main aspects: account creation, fee, transaction handling, and security.
* **ERC-4337 on Ethereum:**
  * AA wallet generation through ERC-4337 requires the deployment of a smart contract on the Ethereum blockchain.
  * Users need to pay relatively high account creation fees for contract deployment.
  * Ethereum introduces multiple roles in managing AA wallet transactions, including UserOperation (a structure that describes a transaction to be sent on behalf of a user), bundler (a node that can handle UserOperations), EntryPoint (a singleton contract to execute bundles of UserOperations), aggregator (a helper contract trusted by accounts to validate an aggregated signature), and paymaster (gas fee sponsor).
  * The security of AA wallets can be guaranteed through the implementation of social recovery, where guardians, typically Ethereum addresses, play a crucial role in safeguarding user accounts.
* **Virtual Address (VA) on aelf and in Portkey:**
  * AA wallet generation through the VA technology is based on Portkey's smart contract address, which doesn't involve individual contract deployment.
  * The fees associated with account creation are covered by Portkey, alleviating user expenses.
  * VA-based wallet transactions are initiated via manager addresses stored on users' devices, resulting in a more streamlined process with fewer roles involved.
  * Portkey safeguards account security by employing the social recovery mechanism and enhances protection with verifiers. Users can designate a variety of entities, such as phone numbers and email addresses, as guardians who grant approval for user activities like logging in. Additionally, a verifier, functioning as a decentralised service provider, is linked to each of the guardians to reinforce the security and decentralisation of the approval process.

|  |ERC-4337 (as on Ethereum)|VA (as on aelf and in Portkey)|
|------|------|------|
|\:Account Creation|\:Individual on-chain contract deployment for each user's account|\:Address is generated based on Portkey's smart contract address via algorithm, no need for individual contract deployment|
|\:Cost of Account Creation|\:Comparatively high cost due to contract deployment fees|\:The cost is less, given each account does not need the deployment of a separate smart contract, and fees incurred for account creation can be covered for users via the payment delegation mechanism|
|\:Transaction Fee|\:High gas fee on Ethereum|:0.003 ELF per transaction on aelf|
|\:Third Parties Covering Transaction Fees|\:Can be done via Paymaster|\:Can be done via payment delegation mechanism|
|\:Transaction Processing Process|\:Complex processing flow with various roles involved, such as UserOperation, bundler, EntryPoint, aggregator, and paymaster|\:Simpler approach by interacting only with Portkey's smart contract via manager address|
|\:Account Recoverable|\:Yes|\:Yes|
|\:Roles in Social Recovery|\:Guardians|\:Guardians + verifiers|
|\:Private Key|\:Not needed|\:Not needed|
|\:More Functions|\:Can be programmed|\:Can be programmed|
